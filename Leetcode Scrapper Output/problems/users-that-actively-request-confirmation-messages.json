{"tags": [], "problem": "<p>Table: <code>Signups</code></p>\n\n<pre>+----------------+----------+\n| Column Name    | Type     |\n+----------------+----------+\n| user_id        | int      |\n| time_stamp     | datetime |\n+----------------+----------+\nuser_id is the primary key for this table.\nEach row contains information about the signup time for the user with ID user_id.\n</pre>\n\n<p>&nbsp;</p>\n\n<p>Table: <code>Confirmations</code></p>\n\n<pre>+----------------+----------+\n| Column Name    | Type     |\n+----------------+----------+\n| user_id        | int      |\n| time_stamp     | datetime |\n| action         | ENUM     |\n+----------------+----------+\n(user_id, time_stamp) is the primary key for this table.\nuser_id is a foreign key with a reference to the Signups table.\naction is an ENUM of the type ('confirmed', 'timeout')\nEach row of this table indicates that the user with ID user_id requested a confirmation message at time_stamp and that confirmation message was either confirmed ('confirmed') or expired without confirming ('timeout').</pre>\n\n<p>&nbsp;</p>\n\n<p>Write an SQL query to find the IDs of the users that requested a confirmation message <strong>twice</strong> within a 24-hour window. Two messages exactly 24 hours apart are considered to be within the window. The <code>action</code> does not affect the answer, only the request time.</p>\n\n<p>Return the result table in <strong>any order</strong>.</p>\n\n<p>The query result format is in the following example.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre><strong>Input:</strong> \nSignups table:\n+---------+---------------------+\n| user_id | time_stamp          |\n+---------+---------------------+\n| 3       | 2020-03-21 10:16:13 |\n| 7       | 2020-01-04 13:57:59 |\n| 2       | 2020-07-29 23:09:44 |\n| 6       | 2020-12-09 10:39:37 |\n+---------+---------------------+\nConfirmations table:\n+---------+---------------------+-----------+\n| user_id | time_stamp          | action    |\n+---------+---------------------+-----------+\n| 3       | 2021-01-06 03:30:46 | timeout   |\n| 3       | 2021-01-06 03:37:45 | timeout   |\n| 7       | 2021-06-12 11:57:29 | confirmed |\n| 7       | 2021-06-13 11:57:30 | confirmed |\n| 2       | 2021-01-22 00:00:00 | confirmed |\n| 2       | 2021-01-23 00:00:00 | timeout   |\n| 6       | 2021-10-23 14:14:14 | confirmed |\n| 6       | 2021-10-24 14:14:13 | timeout   |\n+---------+---------------------+-----------+\n<strong>Output:</strong> \n+---------+\n| user_id |\n+---------+\n| 2       |\n| 3       |\n| 6       |\n+---------+\n<strong>Explanation:</strong> \nUser 2 requested two messages within exactly 24 hours of each other, so we include them.\nUser 3 requested two messages within 6 minutes and 59 seconds of each other, so we include them.\nUser 6 requested two messages within 23 hours, 59 minutes, and 59 seconds of each other, so we include them.\nUser 7 requested two messages within 24 hours and 1 second of each other, so we exclude them from the answer.\n</pre>\n", "relatedTopics": [], "similarQuestions": [], "problemName": "users-that-actively-request-confirmation-messages"}